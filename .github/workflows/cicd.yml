name: Database CI/CD

on:
  workflow_dispatch:
    # branches: [ "main" ]
  push:

permissions:
  contents: read
  packages: write

jobs:
  call-database-cicd:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout CICD repository
        uses: actions/checkout@v4.2.2
        with:
          repository: mairie360/CICD
          ref: feat/mair-23-add-release-and-tag-creation-for-db

      - name: Call the reusable workflow manually
        uses: ./github/workflows/database_cicd.yml
        with:
          package_name: database
